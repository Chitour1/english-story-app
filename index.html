<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ูุตุชู ุงููุบููุฉ - ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet" />

  <style>
    :root { color-scheme: light dark; }
    body { font-family: "Cairo", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; }
    .card { background:#fff; border:1px solid #e2e8f0; border-radius:16px; box-shadow:0 10px 30px rgba(0,0,0,.04); }
    .hover-card:hover { box-shadow:0 20px 40px rgba(2,132,199,.12); transform: translateY(-2px); }
  </style>
</head>
<body class="bg-slate-50 text-slate-800 min-h-screen pb-24">

  <header class="container mx-auto max-w-5xl px-4 pt-10 text-center">
    <h1 class="text-4xl md:text-5xl font-extrabold text-sky-600 mb-2">ูุตุชู ุงููุบููุฉ</h1>
    <p class="text-slate-600 text-lg">ุชุนููู ููุฑุฏุงุช ุงูุฅูุฌููุฒูุฉ ุนุจุฑ ูุตุต ูุตูุนูุง ุงูุฐูุงุก ุงูุงุตุทูุงุนู</p>
  </header>

  <main class="container mx-auto max-w-5xl px-4 mt-10 space-y-10">

    <!-- ุจุทุงูุฉ ุงูุญุณุงุจ + ุชุณุฌูู ุงูุฏุฎูู -->
    <section class="card p-6 md:p-8">
      <div class="flex flex-col items-center gap-5">
        <!-- ุฒุฑ ุงูุฏุฎูู -->
        <button id="signin-btn"
                class="px-6 py-3 rounded-lg bg-sky-600 text-white font-bold hover:bg-sky-700 disabled:opacity-50 disabled:pointer-events-none">
          ุชุณุฌูู ุงูุฏุฎูู ูุน Google ูุญูุธ ุงูุชูุฏูู
        </button>

        <!-- ูุนูููุงุช ุงููุณุชุฎุฏู (ูุฎููุฉ ูุจุฏุฆูุงู) -->
        <div id="user-info" class="hidden relative">
          <button id="user-menu-btn" class="flex items-center gap-3 px-4 py-2 bg-white border rounded-lg hover:bg-slate-50">
            <img id="user-avatar" class="w-10 h-10 rounded-full border" alt="User Avatar" />
            <span id="user-name" class="text-sm"></span>
          </button>
          <div id="user-menu"
               class="hidden absolute left-0 mt-2 w-60 bg-white rounded-xl shadow-xl p-2 text-right z-10 border">
            <button id="btn-export" class="w-full text-right px-3 py-2 hover:bg-slate-100 rounded">โฌ๏ธ ุชุตุฏูุฑ ุงูุจูุงูุงุช</button>
            <label class="w-full block text-right px-3 py-2 hover:bg-slate-100 rounded cursor-pointer">
              โฌ๏ธ ุงุณุชูุฑุงุฏ ุงูุจูุงูุงุช
              <input id="import-input" type="file" accept="application/json" class="hidden" />
            </label>
            <button id="reset-progress-btn-menu" class="w-full text-right px-3 py-2 text-red-600 hover:bg-red-50 rounded">โฉ๏ธ ุฅุนุงุฏุฉ ุงูุถุจุท</button>
            <button id="signout-btn" class="w-full text-right px-3 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 mt-1">ุชุณุฌูู ุงูุฎุฑูุฌ</button>
          </div>
        </div>

        <p class="text-slate-500 text-center">
          ุจุนุฏ ุชุณุฌูู ุงูุฏุฎูู ุณููููู ุชููุงุฆููุง ุฅูู ุฅุฏุฎุงู ููุชุงุญ <span class="font-bold">Gemini</span> ุฃู ุฅูู ุงุฎุชูุงุฑ ุงููุณุชููุงุช.
        </p>
      </div>
    </section>

    <!-- ุฑูุงุจุท ุงูุตูุญุงุช ุงูุฑุฆูุณูุฉ -->
    <section class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <!-- ุงููุณุชููุงุช -->
      <a href="#" data-nav="levels.html" class="card hover-card p-6 block">
        <div class="text-4xl mb-3">๐งญ</div>
        <h3 class="text-xl font-bold">ูุณุชููุงุช ูุชุฏุฑุฌุฉ</h3>
        <p class="text-slate-500 mt-1">ุงุจุฏุฃ โ A1 โ ูุณุงุฆู ูุณุงุนุฏุฉ ูุชูุงุฑูู ูุตูุชูุงุช.</p>
      </a>

      <!-- ููุชุงุญ Gemini -->
      <a href="#" data-nav="key.html" class="card hover-card p-6 block">
        <div class="text-4xl mb-3">๐</div>
        <h3 class="text-xl font-bold">ููุชุงุญ Gemini</h3>
        <p class="text-slate-500 mt-1">ุณูุฏุฎู ุงูููุชุงุญ ูู ุงูุฎุทูุฉ ุงูุชุงููุฉ ูุชูููุฏ ุงูุฏุฑูุณ.</p>
      </a>

      <!-- ูุนูููุงุช ุงูุญูุธ -->
      <div class="card p-6">
        <div class="text-4xl mb-3">๐</div>
        <h3 class="text-xl font-bold">ุญูุธ ุชูุฏููู</h3>
        <p class="text-slate-500 mt-1">ุชูุฏููู ููุญููุธ ูู Google Drive (AppData) ุนูุฏ ุชุณุฌูู ุงูุฏุฎูู.</p>
      </div>
    </section>
  </main>

  <!-- ุชุฐููู -->
  <footer class="fixed inset-x-0 bottom-0 z-40 bg-white/95 backdrop-blur border-t border-slate-200">
    <div class="container mx-auto max-w-5xl px-4 py-3 flex flex-col sm:flex-row items-center justify-between gap-2 text-sm">
      <div class="flex items-center gap-4">
        <a href="https://chitour1.github.io/englishstory/terms.html" target="_blank" rel="noopener" class="text-sky-700 hover:underline">ุจููุฏ ุงูุฎุฏูุฉ</a>
        <a href="https://chitour1.github.io/englishstory/privacy.html" target="_blank" rel="noopener" class="text-sky-700 hover:underline">ุณูุงุณุฉ ุงูุฎุตูุตูุฉ</a>
      </div>
      <span class="text-slate-400">ยฉ 2025 ูุตุชู ุงููุบููุฉ</span>
    </div>
  </footer>

  <!-- =========================================================
       ุชุฑุชูุจ ุงูุณูุฑุจุชุงุช ุฅูุฒุงูู: config โ Google APIs โ main-login โ health-check
       ========================================================= -->

  <!-- 1) ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู -->
  <script src="assets/js/config.js"></script>

  <!-- 2) ููุชุจุงุช Google ูุน onload (ุชุนุฑูู ุงูุฏูุงู ูุชู ุฏุงุฎู main-login.js) -->
  <script src="https://apis.google.com/js/api.js" onload="gapiLoaded()" async defer></script>
  <script src="https://accounts.google.com/gsi/client" onload="gisLoaded()" async defer></script>

  <!-- 3) ููุทู ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู (ูุนุชูุฏ ุนูู APP_CONFIG ููุนุฑูู gapiLoaded/gisLoaded ุฅุฐุง ูุฒู) -->
  <script src="assets/js/main-login.js"></script>

  <!-- 4) ูุญุต ุตุญุฉ ุงูุฅุนุฏุงุฏ (ุงุฎุชูุงุฑู ุฃุซูุงุก ุงูุฅุนุฏุงุฏ) -->
  <script src="assets/js/health-check.js"></script>

  <noscript>
    <div class="container mx-auto max-w-3xl px-4 py-6">
      <div class="card p-4 text-center">
        ุงูุฑุฌุงุก ุชูุนูู JavaScript ูุงุณุชุฎุฏุงู ุงูุชุทุจูู.
      </div>
    </div>
  </noscript>
</body>
</html>
